@model LoocERP.ViewModels.NoleggioViewModel

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>

<section class="content">
    <form method="post" asp-controller="Noleggi" asp-action="Create">
        <div class="row">
            <div class="col-12">
                <div class="card card-top">
                    <div class="card-body">
                        <h4><small>Creazione nuovo <b>Noleggio</b></small></h4>
                    </div>
                </div>

                <!-- general form elements -->
                <div class="card card-primary">
                    <div class="card-header">
                        <b>Informazioni contratto</b>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="form-group">
                                    <label asp-for="@Model.noleggio.ProtocolNumber"></label>
                                    <input asp-for="@Model.noleggio.ProtocolNumber" class="form-control" placeholder="Numero Protocollo" />
                                    <span asp-validation-for="@Model.noleggio.ProtocolNumber" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="form-group">
                                    <label asp-for="@Model.noleggio.StartDate"></label>
                                    <input asp-for="@Model.noleggio.StartDate" class="form-control" placeholder="" />
                                    <span asp-validation-for="@Model.noleggio.StartDate" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="form-group">
                                    <label asp-for="@Model.noleggio.EndDate"></label>
                                    <input asp-for="@Model.noleggio.EndDate" class="form-control" placeholder="" />
                                    <span asp-validation-for="@Model.noleggio.EndDate" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <label asp-for="@Model.noleggio.Company_id"></label>
                                <select style="width:100%" asp-for="@Model.noleggio.Company_id" class="select2-parcheggiovettore form-control" required></select>
                                <span asp-validation-for="@Model.noleggio.Company_id" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="card-header">
                        <b>Dettagli contratto</b>
                    </div>
                    <div class="row">
                        @{int k = 0; }
                        @foreach (var option in Model.noleggiOptions)
                        {
                            <div class="col-sm-4" style="padding: 28px;">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="switch[@k]" name="options[]" value="@option.Id">
                                    <label class="custom-control-label" for="switch[@k]">@option.Name</label>
                                </div>
                            </div>
                            k++;
                        }
                    </div>

                </div>

                <div class="card-footer">
                    <div class="float-right">
                        <input type="button" value="Annulla" class="btn btn-default" onclick="history.back(-1)" />
                        <input type="submit" value="Crea Noleggio" class="btn btn-primary" />
                    </div>
                </div>

            </div>
        </div>

    </form>
</section>

<style>

    span.select2-selection.select2-selection--single {
        min-height: 40px;
        width: 100% !important;
    }

    span.select2-selection.select2-selection--default {
        min-height: 40px;
        width: 100% !important;
    }

    span.select2-selection {
        min-height: 40px;
        width: 100% !important;
    }
</style>
@section Scripts {
    <script>

        $(document).ready(function () {
            $('.select2-parcheggiovettore').select2({
                placeholder: "Inserisci nome parcheggio",
                minimumInputLength: 3,
                ajax: {
                    url: '/noleggi/ajaxGetAziendeFornitori',
                    dataType: 'json',

                },
            });
        });
        
    </script>
}