@model LoocERP.Models.ResourceRequest
@{
    ViewData["Title"] = "Creazione nuova richiesta";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService
@{
    var permitted = ((await AuthorizationService.AuthorizeAsync(User, "ResourceRequest.Assignment")).Succeeded);
}

<div>&nbsp;</div>


<section class="content">
    <input id="id_request" value="@Model.Id" hidden />
    @{
        await Html.RenderPartialAsync("Edit/_edit_header", @Model);
    }
    <div class="row">
        <div class="col-6">
            @{
                @if (Model.Stato == StatoRequest.bozza || Model.Stato == null)
                {
                    await Html.RenderPartialAsync("Edit/Mansioni/_edit_mansionirequest", @Model);
                }
            }
            @{
                await Html.RenderPartialAsync("Edit/Mansioni/_list_mansionirequest", @Model);
            }
        </div>
        <div class="col-6">
            @{
                @if (Model.Stato == StatoRequest.bozza || Model.Stato == null)
                {
                    await Html.RenderPartialAsync("Edit/Specializzazioni/_edit_specializzazionirequest", @Model);
                }
            }
            @{
                await Html.RenderPartialAsync("Edit/Specializzazioni/_list_specializzazionirequest", @Model);
            }
        </div>
    </div>
</section>
@{
    await Html.RenderPartialAsync("Edit/_edit_add_risorsa", @Model);
}
<style>
    .map-content {
        height: 300px;
        width: 100%;
    }

    /* Optional: Makes the sample page fill the window. */
    html,
    body {
        height: 100%;
        margin: 0;
        padding: 0;
    }

    table.table-bordered.dataTable tbody th,
    table.table-bordered.dataTable tbody td {
        padding: 3px !important;
    }

        table.table-bordered.dataTable tbody td a {
            font-size: 13px;
        }

    span.select2-selection.select2-selection--single {
        min-height: 40px;
        width: 100% !important;
    }

    span.select2-selection.select2-selection--default {
        min-height: 40px;
        width: 100% !important;
    }

    span.select2-selection {
        min-height: 40px;
        width: 100% !important;
    }

    .list-group-inner {
        border-left: 5px solid blue;
    }

    table.table-bordered.dataTable tbody th, table.table-bordered.dataTable tbody td {
        padding: 10px !important;
    }
</style>
<script>
    var can_assign = @permitted;
</script>