#pragma checksum "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ef097b78e1c40ee39b7341b6a93fe813f1bab7ed"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_RelTurnoUser_assignModalUserCantieri), @"mvc.1.0.view", @"/Views/RelTurnoUser/assignModalUserCantieri.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/_ViewImports.cshtml"
using LoocERP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/_ViewImports.cshtml"
using LoocERP.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/_ViewImports.cshtml"
using DevExtreme.AspNet.Mvc;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ef097b78e1c40ee39b7341b6a93fe813f1bab7ed", @"/Views/RelTurnoUser/assignModalUserCantieri.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a0e64de071199ae55fa1bfd96ad5ab02ba5443b9", @"/Views/_ViewImports.cshtml")]
    public class Views_RelTurnoUser_assignModalUserCantieri : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<LoocERP.ViewModels.AssignUserCantieriViewModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("btn btn-default"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-controller", "RelTurnoUser", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "Index", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-controller", "RelTurnoUserS", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("btn btn-primary"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "assignModalUserCantieri", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "get", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("formreservation"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
      
    ViewData["Title"] = "Assegnazione";
    DateTime wd = (ViewBag.WorkDate??DateTime.Now);
    if(!DateTime.TryParse(wd.ToString(), out wd)){ 
        wd = DateTime.Now.Date;
    }    
    string dten = @wd.Month.ToString("0#")+"-"+@wd.Day.ToString("0#")+"-"+@wd.Year;
    string dtenfull = @wd.Month.ToString("0#")+"-"+@wd.Day.ToString("0#")+"-"+@wd.Year+" 00:00:00";
    string dtit = @wd.Day.ToString("0#")+"-"+@wd.Month.ToString("0#")+"-"+@wd.Year;
    string dtitfull = @wd.Day.ToString("0#")+"-"+@wd.Month.ToString("0#")+"-"+@wd.Year+" 00:00:00";
    ViewBag.dtenfull = @dten;

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>
    input{
        height: 100%;
        width: 100%;
        border: none;
        text-align: center;
    }
    .bg-th-table{
        background: #ffffcc;
    }
    .select-wrapper button{
        margin: 0
    }
    .turno-info .turno-detail{
        display: none;        
    }
    .turno-info:hover .turno-detail{
        display: block;
        position: absolute;
        top: -20px;
        left: 10px;
        background: #616161;
        padding: 3px 5px;
        border-radius: 5px;
        color: white;
        border: 1px solid white;
        z-index: 1;
        min-width: 300px;
    }
.select2-selection__rendered {
    line-height: 31px !important;
}
.select2-container .select2-selection--single {
    height: 100% !important;
    padding: 4px;
}
.select2-selection__arrow {
    height: 100% !important;
}
.row-success{
    border: 2px solid green;
}
.row-danger{
    border: 2px solid red;
}
</style>
<div>&nbsp</div>
<div class=""col-12"">
    <div class=""row"">                            
       ");
            WriteLiteral(" <div class=\"col-12\" style=\"float-right\">\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ef097b78e1c40ee39b7341b6a93fe813f1bab7ed8122", async() => {
                WriteLiteral("Pianificazione per cantiere <i class=\"fa fa-eye-slash\"></i>");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Controller = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Action = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ef097b78e1c40ee39b7341b6a93fe813f1bab7ed9612", async() => {
                WriteLiteral("Pianificazione per Risorsa <i class=\"fa fa-eye-slash\"></i>");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Controller = (string)__tagHelperAttribute_3.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_3);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Action = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ef097b78e1c40ee39b7341b6a93fe813f1bab7ed11101", async() => {
                WriteLiteral("Aggiornamento Giornaliero Risorse <i class=\"fa fa-eye\"></i>");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Controller = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Action = (string)__tagHelperAttribute_5.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
        </div>                        
    </div>
</div>
<section class=""content"">
    <div class=""card col-12 p-0"">
        <div class=""card-body"">
            <div class=""col-12"">                        
                <div class=""row"">
                    <div class=""col-sm-8 col-12"">
                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ef097b78e1c40ee39b7341b6a93fe813f1bab7ed12906", async() => {
                WriteLiteral(@"                            
                            <div class=""form-group"">
                                <label>Seleziona la data di partenza</label>
                                <div class=""input-group"">                                    
                                    <div class=""input-group-prepend"">
                                        <span class=""input-group-text""><i class=""far fa-calendar-alt""></i></span>
                                    </div>                                    
                                    <input id=""reservation""");
                BeginWriteAttribute("value", " value=\'", 3119, "\'", 3132, 1);
#nullable restore
#line 83 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
WriteAttributeValue("", 3127, dtit, 3127, 5, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" type=\"text\" class=\"form-control\" >                                \n                                    <input id=\"reservationen\" name=\"WorkDate\" type=\"hidden\"");
                BeginWriteAttribute("value", " value=\'", 3292, "\'", 3309, 1);
#nullable restore
#line 84 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
WriteAttributeValue("", 3300, dtenfull, 3300, 9, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(@">                                    
                                </div>
                                <small><b>Importante:</b> Aggiornando le assognazione per il giorno selezionato, verranno automaticamente aggiornate anche le assegnazioni successive</small>
                                <!-- /.input group -->
                            </div>
                            <p class=""col-12 p-0"">

                            </p>
                        ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_6.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_6);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
                    </div>                       
                    <div class=""col-sm-4 col-12"">
                        <div class=""col-12 p-0 text-right"">
                            <a  class=""btn btn-default"" onclick=""location.reload();"">Ricarica e verifica <i class=""fa fa-sync"" aria-hidden=""true""></i></a>   
                        </div>                        
                    </div> 
                </div>    
            </div>
        </div>
    </div>        
    <div class=""card card-primary"">
        <div class=""col-12 p-0"">            
            <div class=""row m-0"">                    
                    <div class=""col-12 p-0""> 
                        <div class=""row m-0"">
                            <div class=""col-1 p-0""> 
                            </div>
                            <div class=""col-11 p-0""> 
                                <div class=""row m-0"">
                                    <input type=""text"" class=""col-2 border text-center p-0"" id=""searchInput0"" onkeyup=""");
            WriteLiteral(@"searchFunction()"" placeholder=""Ricerca Commessa.."">                            
                                    <input type=""text"" class=""col-2 border text-center p-0"" id=""searchInput1"" onkeyup=""searchFunction()"" placeholder=""Ricerca Cantiere"">                                                        
                                    <input type=""text"" class=""col-2 border text-center p-0"" id=""searchInput2"" onkeyup=""searchFunction()"" placeholder=""Ricerca Turno"">                                                        
                                    <input type=""text"" class=""col-6 border text-center p-0"" id=""searchInput3"" onkeyup=""searchFunction()"" placeholder=""Ricerca Nome"">                            
                                </div>
                            </div>
                        </div>                                                                
                    </div>
                    <div class=""col-12 p-0""> 
                        <div class=""row m-0"">                 ");
            WriteLiteral(@"                                                      
                                <div class=""col-1 p-0""> 
                                </div>
                                <div class=""col-11 p-0""> 
                                    <div class=""row m-0"">
                                        <div class=""col-2 border text-center bg-th-table bold p-0""><b>Commessa</b></div>
                                        <div class=""col-2 border text-center bg-th-table bold p-0""><b>Cantiere</b></div>            
                                        <div class=""col-2 border text-center bg-th-table bold p-0""><b>Turno</b></div>
                                        <div class=""col-2 border text-center bg-th-table bold p-0""><b>Risorsa</b></div>                                
                                        <div class=""col-2 border text-center bg-th-table bold p-0""><b>Mansioni</b></div>
                                        <div class=""col-2 border text-center bg-th-table bold p-0""><b>Specializz");
            WriteLiteral(@"azioni</b></div>                            
                                    </div>
                                </div>                           
                        </div>                                            
                    </div>                 
            </div>
        </div>                                
        <div id=""table-area"" class=""col-12 p-0 m-0""></div>                                  
    </div>   
</section>


");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"    

    <script>                
        function searchFunction() {
            // Declare variables
            var txtValue0 = """";
            var input0 = document.getElementById('searchInput0');
            var filter0 = input0.value.toUpperCase();
            var txtValue1 = """";
            var input1 = document.getElementById('searchInput1');
            var filter1 = input1.value.toUpperCase();
            var txtValue2 = """";
            var input2 = document.getElementById('searchInput2');
            var filter2 = input2.value.toUpperCase();
            var txtValue3 = """";
            var input3 = document.getElementById('searchInput3');
            var filter3 = input3.value.toUpperCase();
                        
            li = document.getElementsByClassName('searchrow');
            console.log(filter0);

            // Loop through all list items, and hide those who don't match the search query
            for (i = 0; i < li.length; i++) {                
                txtValue0 = li[i].g");
                WriteLiteral(@"etAttribute(""datasearch0"");
                txtValue1 = li[i].getAttribute(""datasearch1"");
                txtValue2 = li[i].getAttribute(""datasearch2"");
                txtValue3 = li[i].getAttribute(""datasearch3"");
                console.log(txtValue0);

                if (txtValue0.toUpperCase().indexOf(filter0) > -1
                    && txtValue1.toUpperCase().indexOf(filter1) > -1
                    && txtValue2.toUpperCase().indexOf(filter2) > -1
                    && txtValue3.toUpperCase().indexOf(filter3) > -1
                ){
                    li[i].style.display = """"; 
                }                      
                else {
                    li[i].style.display = ""none"";                       
                }                
            }
        }
             
        function updateTurno(row){             
            var rowelem= $(""#currentRow-""+row);
            var turnoid = $(""#currentRow-""+row+' .select2-turno').val();                                                   ");
                WriteLiteral(@"                     
            var userid = $(""#currentRow-""+row+' input.userid').val();
            var workdate = $(""#currentRow-""+row+' input.workdate').val();                
            var mansioni = $(""#currentRow-""+row+' .selectpicker-mansione').val();
            var specializzazioni = $(""#currentRow-""+row+' .selectpicker-specializzazione').val();   
            /*                     
            console.log(row);
            console.log(turnoid);
            console.log(userid);
            console.log(workdate);
            console.log(mansioni);
            console.log(specializzazioni);
            */
            
            $.ajax({
                    //beforeSend: function() { textreplace(description); },
                    type: ""GET"",  
                    url: ""/RelTurnoUser/ajaxUpdateTurnoUser"",
                    data: { 
                        ""turnoid"": turnoid,
                        ""userid"": userid, 
                        ""workdate"": workdate,
                        ""mans");
                WriteLiteral(@"ioniJson"": JSON.stringify(mansioni),
                        ""specializzazioniJson"": JSON.stringify(specializzazioni)
                    },                        
                    success: function(data){   
                        console.log(""success"");
                        var c = ' row-danger';
                        if(data.results != ""ko""){
                           c = ' row-success';
                        }
                        rowelem[0].className += c;
                    },
                    error: function(XMLHttpRequest, textStatus, errorThrown) { 
                        console.log(""error"");
                        console.log(textStatus);
                        console.log(errorThrown);                            
                        rowelem[0].className += ' row-danger';
                    }       
                }); 
            
        }
        function EnableRow(row){
            var rowelem= $(""#currentRow-""+row);
            var save = $(""#currentRow-""+row+' .bt");
                WriteLiteral(@"n-save').toggleClass('d-none');
            var edit = $(""#currentRow-""+row+' .btn-edit').toggleClass('d-none');
            var disabled_start_bootstrap = $(""#currentRow-""+row+' .disabled_start').toggleClass('disabled');            
            $(""#currentRow-""+row+' select.select2-project:first-of-type').prop('disabled', false);                        
        }

        function SaveRow(row){
            var rowelem= $(""#currentRow-""+row);
            var save = $(""#currentRow-""+row+' .btn-save').toggleClass('d-none');
            var edit = $(""#currentRow-""+row+' .btn-edit').toggleClass('d-none');
            var disabled_start_bootstrap = $(""#currentRow-""+row+' .disabled_start').toggleClass('disabled');            
            $(""#currentRow-""+row+' select.select2-project:first-of-type').prop('disabled', true); 
            updateTurno(row);                    
        }

        $(document).ready(function () {    
                   
            //Date range as a button
            $('#reservation').dat");
                WriteLiteral(@"epicker(
                {
                    format: ""dd-mm-yyyy"",
                    //dateFormat: ""dd-mm-yyyy"",
                    showOn: ""button"",
                    buttonText: '<i class=""fa fa-calendar""></i>',                    
                    changeMonth: true,
                    changeYear: true,                    
                    todayBtn: ""linked"",
                    language: ""it"",
                    autoclose: true,
                    startDate: new Date(");
#nullable restore
#line 260 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
                                   Write(wd.Day);

#line default
#line hidden
#nullable disable
                WriteLiteral(", ");
#nullable restore
#line 260 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
                                            Write(wd.Month);

#line default
#line hidden
#nullable disable
                WriteLiteral(", ");
#nullable restore
#line 260 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
                                                       Write(wd.Year);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"),
                },
            ).on('changeDate', function (e) {                                                
                var year  = e.date.getFullYear();
                var month = (e.date.getMonth() + 1).toString().padStart(2, ""0"");
                var day   = e.date.getDate().toString().padStart(2, ""0"");                
                $('#reservationen').val(month+""-""+day+""-""+year);
                $('#reservation').val(day+""-""+month+""-""+year);                
                $('#formreservation').submit();
            })
            ;;
            
            $.ajax({
                url: '/RelTurnoUser/ajaxUserIndex?WorkDate=");
#nullable restore
#line 273 "/home/fabio/Documenti/Emadema/dotnNet_prj/loocDev/LoocERP/Views/RelTurnoUser/assignModalUserCantieri.cshtml"
                                                      Write(dtenfull);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                dataType: 'json',
                success: function(data) {                    
                    var items = [];
                    var html = """";                                                  
                    $.each(data.data, function(key, val){                                       
                        var mansionistring = "";"";
                        val.data.mansioniUserTurnoList.forEach(
                            element => (element != null?mansionistring += element.id+"";"":"""")
                        );
                        var specializzazionistring = "";"";
                        val.data.specializzazioniUserTurnoList.forEach(
                            element => (element != null?specializzazionistring += element.id+"";"":"""")
                        );
                        items.push(
                            '<div id=""currentRow-'+key+'"" class=""col-12 p-0 searchrow""'+
                                ' datasearch0=""'+val.data.projectName +'""' +
             ");
                WriteLiteral(@"                   ' datasearch1=""'+val.data.cantiereCode + val.cantiereName +'""' +
                                ' datasearch2=""'+val.data.turnoName +'""' +
                                ' datasearch3=""'+val.data.fullName +'""' +                                
                            '><div class=""row m-0"">'+
                            '<input type=""hidden"" class=""userid"" value=""'+val.data.userId+'"">'+
                            '<input type=""hidden"" class=""workdate"" value=""'+val.data.workDate+'"">'                            
                        );

                        items.push(
                            '<div class=""col-1""><div class=""row m-0"">' 
                        );
                        /*
                        items.push(  
                                '<div class=""turno-info"" style=""font-size: 16px;margin-top: 6px;"">'+
                                    '<span style=""border: 1px solid;padding: 5px 10px;border-radius: 50%;""><b>M</b></span>'+
                            ");
                WriteLiteral(@"        '<div class=""turno-detail text-left"">'
                        );

                        // M DETAIL
                       // $.each(val.data.mansioniTurnoList, function(key1, val1){  items.push( val1.quantita+"" ""+val1.mansioneName+'<br>'); });

                        items.push(  
                                    '</div>'+
                                '</div>'+   
                                '<div class=""turno-info"" style=""font-size: 16px;margin-top: 6px;"">'+
                                    '<span style=""border: 1px solid;padding: 5px 10px;border-radius: 50%;""><b>S</b></span>'+
                                    '<div class=""turno-detail text-left"">'
                        );

                        // S DETAIL
                       // $.each(val.data.specializzazioniTurnoList, function(key1, val1){  items.push( val1.quantita+"" ""+val1.specializzazioneName+'<br>');});
                                                

                        items.push(  
                         ");
                WriteLiteral(@"           '</div>'+
                                '</div>'
                        );
                        */

                        items.push('<div class=""col-12 p-0 text-right""><button class=""btn m-0 btn-edit"" style=""margin-left: 2px;"" onclick=""EnableRow('+key+')""><i class=""fa fa-edit""></i></button>');
                        items.push('<button class=""btn m-0 btn-primary d-none btn-save"" onclick=""SaveRow('+key+')"" style=""margin-left: 2px;""><i class=""fa fa-save""></i></button></div>');

                        items.push(
                                '</div>'+ 
                            '</div>'+  //end col-1 row
                            '<div class=""col-11 p-0"" >' +                                                                
                                '<div class=""row m-0"">'+                                                                     
                                    '<div class=""col-2 border text-center p-0"">' +                                                          ");
                WriteLiteral(@"                     
                                        //'<input readonly class=""form-control"" value=""'+val.data.projectName+'"" style=""padding-left: 50px""/>'+
                                        '<select disabled class=""select2-project form-control disabled_start""  data-row=""'+key+'"">'+
                                            '<option selected value=""'+val.data.projectId+'"">'+val.data.projectName+'</option>'+
                                        '</select>'+
                                    '</div>'+
                                    '<div class=""col-2 border text-center p-0"">' +                                        
                                        //'<input readonly class=""form-control"" value=""'+val.data.cantiereCode+'""/>'+
                                        '<select class=""select2-cantiere form-control"" disabled data-row=""'+key+'"">'+
                                            '<option selected value=""'+val.data.cantiereId+'"">'+val.data.cantiereCode+'('+val.data.cantier");
                WriteLiteral(@"eName+')'+'</option>'+
                                        '</select>'+
                                    '</div>'+
                                    '<div class=""col-2 border text-center p-0"">' +                                                                                
                                        '<select class=""turno select2-turno form-control"" disabled data-row=""'+key+'"">'+
                                            '<option selected value=""'+val.data.turnoId+'"">'+val.data.turnoName+'</option>'+
                                        '</select>'+
                                    '</div>'+
                                    '<div class=""col-2 border text-center p-0"">' +
                                        '<input readonly class=""form-control"" value=""'+val.data.fullName+'"" data-row=""'+key+'""/>'+
                                    '</div>'+
                                    '<div class=""select-wrapper col-2 border text-center p-0"">' +                                     ");
                WriteLiteral(@"     
                                        '<select class=""disabled disabled_start p-0 selectpicker selectpicker-mansione selectpicker-ms form-control p-0"" multiple data-live-search=""true"" data-container=""body"" '+                                            
                                            ' data-row=""'+key+'""'+
                                        '>'
                                        //'<option>Select...</option>'+                                        
                        );
                        
                        //Mansioni list
                        $.each(val.data.rel_MansioneUser, function(key1, val1){  
                            items.push( '<option '+(mansionistring.indexOf(val1.mansioneId) == -1?'':'selected')+' data-mansioneid=""'+val1.mansioneId+'"" value=""'+val1.mansioneId+'"">'+val1.mansioneName+'</option>');
                        });               

                        items.push( 
                                        '</select>'+                  ");
                WriteLiteral(@"                                                                 
                                    '</div>'+
                                    '<div class=""select-wrapper col-2 border text-center p-0"">' +
                                        '<select class=""disabled disabled_start p-0 selectpicker selectpicker-specializzazione selectpicker-ms form-control p-0"" multiple data-live-search=""true"" data-container=""body"" '+
                                        ' data-row=""'+key+'"">'
                        );

                        //Specializzaizioni list
                        $.each(val.data.rel_SpecializzazioneUser, function(key1, val1){   
                            items.push('<option '+(specializzazionistring.indexOf(val1.specializzazioneId) == -1?'':'selected')+' value=""'+val1.specializzazioneId+'"">'+val1.specializzazioneName+'</option>');
                        }); 

                        items.push(                       
                                        '</select>'+               ");
                WriteLiteral(@"                          
                                    '</div>'+                                    
                                '</div>' +
                            '</div>'                            
                        );    
                        items.push(                                                    
                                '</div>' +
                            '</div>'                            
                        );                      
                     },
                    );//--each                    
                    $('<div/>', {
                        'Id': 'search-area-content',
                        'class': 'row m-0',
                        html: items.join('')
                    }).appendTo('#table-area');       
                  
                    $('.select2-project').select2({
                        ajax: {
                            url: '/RelTurnoUser/ajaxProjectList',
                            dataType: 'json'
           ");
                WriteLiteral(@"                 // Additional AJAX parameters go here; see the end of this chapter for the full code of this example
                        }
                    })
                    .on('change', function(e){
                        //var row = $('.selectpicker-ms option:selected').val();
                        var row=e.target.attributes[""data-row""].value;
                        var projectval = e.target.value;                        
                        var cantiere = $(""#currentRow-""+row+' .select2-cantiere');                        
                        cantiere.prop('disabled', false);                        
                        cantiere.select2({
                            ajax: {
                                url: '/RelTurnoUser/ajaxCantiereList?projectId='+projectval,
                                dataType: 'json'
                                // Additional AJAX parameters go here; see the end of this chapter for the full code of this example
                            }
    ");
                WriteLiteral(@"                    })
                        .on('change', function(f){
                            //var row=e.target.attributes[""data-row""].value;
                            var turno = $(""#currentRow-""+row+' .select2-turno');   
                            var cantiereval = f.target.value;                     
                            turno.prop('disabled', false);
                            turno.select2({
                                ajax: {
                                    url: '/RelTurnoUser/ajaxTurnoList?cantiereId='+cantiereval,
                                    dataType: 'json'
                                    // Additional AJAX parameters go here; see the end of this chapter for the full code of this example
                                }
                            })
                            .on('change', function(g){
                                var row = g.target.attributes[""data-row""].value;
                                //updateTurno(row);                         ");
                WriteLiteral(@"         
                            });
                        });
                    });

                    
                    $(""select.selectpicker-ms"").selectpicker();
                    //on change function i need to control selected value
                    $('.selectpicker')
                        .on('change', function(e){ //AGGIORNAMENTO MANSIONI E SPECIALIZZAZIONE                              
                            var row = e.target.attributes[""data-row""].value;
                            //updateTurno(row);
                        });
                },
                statusCode: {
                    404: function() {
                    alert('There was a problem with the server.  Try again soon!');
                    }
                }
                });              
                
                
        });
        
    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<LoocERP.ViewModels.AssignUserCantieriViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
